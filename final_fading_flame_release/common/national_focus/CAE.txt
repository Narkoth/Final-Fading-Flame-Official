#################################
# Dominion of Castor Focus Tree #
#################################


focus_tree = {
	id = CAE_focus_tree
	
	country = {
		factor = 0 
		modifier = {
			add = 10
			#tag = URG
			tag = CAE
		}
	}
	reset_on_civilwar = no

	continuous_focus_position = {x = 1200 y = 700 }

	#Begin Tree#
	focus = {
		id = CAE_a_new_caer
		icon = GFX_goal_CAE_joane
		x = 5
		y = 0
		cost = 7
		search_filters = {FOCUS_FILTER_POLITICAL}
		available = {
			#is_subject = yes
		}
		completion_reward = {
			add_political_power = 150
			add_stability = 0.025
		}
	}
	focus = {
		id = CAE_shipping_industry
		icon = GFX_goal_generic_construct_naval_dockyard
		relative_position_id = CAE_a_new_caer
		x = -6
		y = 6
		cost = 7 
		search_filters = {FOCUS_FILTER_INDUSTRY}
		prerequisite = {focus = CAE_a_new_caer}
		available = {
		}
		completion_reward = {
			1219 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = CAE_mil_factory
		icon = GFX_goal_generic_construct_mil_factory
		relative_position_id = CAE_a_new_caer
		prerequisite = { focus = CAE_a_new_caer}
		x = -4
		y = 6
		cost = 7 
		ai_will_do = {
			factor = 4000
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		available = {
		}
			completion_reward = {
				1227 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			1226 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = CAE_infra
		icon = GFX_goal_generic_construct_infrastructure
		relative_position_id = CAE_a_new_caer
		x = 0
		y = 3
		cost = 7
		ai_will_do = {
			factor = 320
		}
		prerequisite = {focus = CAE_a_new_caer}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			1224 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			1220 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			1221 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			1216 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = CAE_exploit_swamps
		icon = GFX_goal_generic_oil_refinery
		relative_position_id = CAE_infra
		x = 0
		y = 2
		cost = 7
		ai_will_do = {
			factor = 320
		}
		prerequisite = {focus = CAE_infra}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			1220 = {
				add_resource = {
					type = oil
					amount = 12
				}
				add_resource = {
					type = rubber
					amount = 8
				}
			}
		}
	}
	focus = {
		id = CAE_solidify_position
		icon = GFX_focus_hol_the_foundations_of_defense
		relative_position_id = CAE_a_new_caer
		prerequisite = {focus = CAE_a_new_caer}
		x = 2
		y = 1
		cost = 7
		search_filters = {FOCUS_FILTER_POLITICAL}
		available = {
		}
		completion_reward = {
			add_stability = 0.075
		}
	}
	focus = {
		id = CAE_new_guards
		icon = GFX_focus_generic_manpower
		relative_position_id = CAE_a_new_caer
		prerequisite = {focus = CAE_a_new_caer}
		x = 4
		y = 1
		cost = 7
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			add_ideas = CAE_guards_of_caer
		}
	}
	focus = {
		id = CAE_check_old_stockpiles
		icon = GFX_goal_generic_small_arms
		relative_position_id = CAE_a_new_caer
		prerequisite = {focus = CAE_a_new_caer}
		x = 6
		y = 1
		cost = 7
		search_filters = {FOCUS_FILTER_POLITICAL}
		available = {
		}
		completion_reward = {
			add_equipment_to_stockpile = {
				type = infantry_equipment_0
				amount = 1000
			}
		}
	}
	focus = {
		id = CAE_summon_militia
		icon = GFX_goal_generic_military_sphere
		relative_position_id = CAE_new_guards
		prerequisite = {focus = CAE_check_old_stockpiles}
		prerequisite = {focus = CAE_new_guards}
		x = 1
		y = 1
		cost = 7
		search_filters = {FOCUS_FILTER_POLITICAL}
		available = {
		}
		completion_reward = {
			custom_effect_tooltip = CAE_militia_spawn #Custom Text
			hidden_effect = {
				division_template = {
					name = "Caer Militia"
					division_names_group = BRA_INF_01 #GROUP FOR HAVING NAMES OF DIVISIONS - VERY IMPORTANT TO HAVE FOR IMMERSION

					regiments = {
						militia = {x = 0 y = 0}
						militia = {x = 0 y = 1}
						militia = {x = 0 y = 2}
						militia = {x = 1 y = 0}
						militia = {x = 1 y = 1}
						militia = {x = 1 y = 2}
					}
					
					priority = 1 #priority of reinforcement 0 = reserves 1 = normal 2 = high
				}
				every_owned_state = {
					limit = {
						is_capital = yes
						is_fully_controlled_by = ROOT 
					}
					create_unit = {
						division = "name = \"1st Caer Militia\" division_template = \"Caer Militia\" start_experience_factor = 0"  
						owner = ROOT
					}
					create_unit = {
						division = "name = \"2nd Caer Militia\" division_template = \"Caer Militia\" start_experience_factor = 0"  
						owner = ROOT
					}
					create_unit = {
						division = "name = \"3rd Caer Militia\" division_template = \"Caer Militia\" start_experience_factor = 0"  
						owner = ROOT
					}
					create_unit = {
						division = "name = \"4th Caer Militia\" division_template = \"Caer Militia\" start_experience_factor = 0"  
						owner = ROOT
					}
					create_unit = {
						division = "name = \"5th Caer Militia\" division_template = \"Caer Militia\" start_experience_factor = 0"  
						owner = ROOT
					}
				}
			}	
		}
	}
	#focus = {
	#	id = CAE_defend_our_land
	#	icon = GFX_focus_generic_support_the_left_right
	#	relative_position_id = CAE_summon_militia
	#	prerequisite = {focus = CAE_summon_militia}
	#	prerequisite = {focus = CAE_solidify_position}
	#	x = -2
	#	y = 1
	#	cost = 7
	#	ai_will_do = {
	#		factor = 160
	#	}
	#	completion_reward = {
	#		add_ideas = CAE_defend_our_land
	#	}
	#}
	focus = {
		id = CAE_industrial_fac_1
		icon = GFX_goal_generic_construct_civ_factory
		relative_position_id = CAE_a_new_caer
		prerequisite = {focus = CAE_a_new_caer}
		x = -2
		y = 1
		cost = 7
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			1218 = {	
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = CAE_industrial_fac_2
		icon = GFX_goal_generic_construct_civ_factory
		relative_position_id = CAE_industrial_fac_1
		prerequisite = {focus = CAE_industrial_fac_1}
		x = 0
		y = 1
		cost = 7
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			171 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = CAE_famous_ranchers
		icon = GFX_goal_generic_consumer_goods
		relative_position_id = CAE_infra
		prerequisite = {focus = CAE_infra}
		prerequisite = {focus = CAE_industrial_fac_2}
		x = -2
		y = 2
		cost = 7
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			add_ideas = CAE_ranchers
		}
	}
	focus = {
		id = CAE_export_to_doc
		icon = GFX_goal_generic_positive_trade_relations
		relative_position_id = CAE_famous_ranchers
		prerequisite = {focus = CAE_famous_ranchers}
		prerequisite = {focus = CAE_solidify_position}
		#prerequisite = {focus = CAE_defend_our_land}
		prerequisite = {focus = CAE_shipping_industry}
		prerequisite = {focus = CAE_mil_factory}
		prerequisite = {focus = CAE_exploit_swamps}
		x = 4
		y = 2
		cost = 15
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			remove_ideas = {
				CAE_RECOVERING_FROM_DOC_SUPPORTED_COUP
			}

			DOC = { 
				add_ideas = DOC_exports_from_caer
			}
		}
	}

	focus = {
		id = CAE_civil_war_over
		icon = GFX_focus_generic_monarchy_2
		x = 15
		y = 0
		cost = 1
		ai_will_do = {
			factor = 4000
		}
		search_filters = {FOCUS_FILTER_POLITICAL}
		available = {
			AND = {
				NOT = {
					country_exists = FAE
				}
				AND = {
					owns_state = 1221
					owns_state = 1216
					owns_state = 1217
					owns_state = 1225
					owns_state = 1223
					owns_state = 1171
				}
			}
		}
		completion_reward = {
			add_stability = 0.15
			set_global_flag = cae_civil_war_victory
		}
	}

	focus = {
		id = CAE_control_east
		icon = GFX_focus_eng_move_to_secure_the_dominions
		relative_position_id = CAE_civil_war_over
		prerequisite = {focus = CAE_civil_war_over}
		x = 2
		y = 2
		cost = 7
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			1221 = {
				add_core_of = CAE
			}
			1216 = {
				add_core_of = CAE
			}
		}
	}
	focus = {
		id = CAE_control_middle
		icon = GFX_focus_eng_move_to_secure_the_dominions
		relative_position_id = CAE_civil_war_over
		prerequisite = {focus = CAE_civil_war_over}
		x = 0
		y = 2
		cost = 7
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			1217 = {
				add_core_of = CAE
			}
			1225 = {
				add_core_of = CAE
			}
		}
	}
	focus = {
		id = CAE_control_west
		icon = GFX_focus_eng_move_to_secure_the_dominions
		relative_position_id = CAE_civil_war_over
		prerequisite = {focus = CAE_civil_war_over}
		x = -2
		y = 2
		cost = 7
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			1171 = {
				add_core_of = CAE
			}
			1223 = {
				add_core_of = CAE
			}
		}
	}

	focus = {
		id = CAE_load_generic_tree
		icon = GFX_focus_generic_industry_3
		relative_position_id = CAE_control_middle
		prerequisite = {focus = CAE_control_middle}
		prerequisite = {focus = CAE_control_west}
		prerequisite = {focus = CAE_control_east}
		x = 0
		y = 2
		cost = 7
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			load_focus_tree = generic_tree
		}
	}

}


 	


